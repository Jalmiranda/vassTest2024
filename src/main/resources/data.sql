
-- Limpieza previa

DROP TABLE IF EXISTS Brands;
DROP TABLE IF EXISTS Prices;

-- Como se dice que Brand_id es una foreign key, pero no de que tabla, he creado una al azar para que lo sea

CREATE TABLE Brands (
	BRAND_ID int NOT NULL,
	BRAND_NAME char(20) NOT NULL,
	PRIMARY KEY (BRAND_ID)
);

INSERT INTO Brands (BRAND_ID, BRAND_NAME) values (1, 'ZARA');

-- Tabla especificada en el enunciado

CREATE TABLE Prices (
	BRAND_ID int NOT NULL,
	START_DATE char(20) NOT NULL,
	END_DATE char(20) NOT NULL,
	PRICE_LIST int NOT NULL,
	PRODUCT_ID char(5) NOT NULL,
	PRIORITY int NOT NULL,
	PRICE double NOT NULL,
	CURR char(3) NOT NULL,
	PRIMARY KEY (BRAND_ID, PRODUCT_ID, PRICE_LIST),
	FOREIGN KEY (BRAND_ID) REFERENCES Brands(BRAND_ID)
);

INSERT INTO Prices (BRAND_ID, START_DATE, END_DATE, PRICE_LIST, PRODUCT_ID, PRIORITY, PRICE,  CURR) values (1, '2020-06-14-00.00.00', '2020-12-31-23.59.59', 1, '35455', 0, 35.50, 'EUR');
INSERT INTO Prices (BRAND_ID, START_DATE, END_DATE, PRICE_LIST, PRODUCT_ID, PRIORITY, PRICE,  CURR) values (1, '2020-06-14-15.00.00', '2020-06-14-18.30.00', 2, '35455', 1, 25.45, 'EUR');
INSERT INTO Prices (BRAND_ID, START_DATE, END_DATE, PRICE_LIST, PRODUCT_ID, PRIORITY, PRICE,  CURR) values (1, '2020-06-15-00.00.00', '2020-06-15-11.00.00', 3, '35455', 1, 30.50, 'EUR');
INSERT INTO Prices (BRAND_ID, START_DATE, END_DATE, PRICE_LIST, PRODUCT_ID, PRIORITY, PRICE,  CURR) values (1, '2020-06-15-16.00.00', '2020-12-31-23.59.59', 4, '35455', 1, 38.95, 'EUR');
 